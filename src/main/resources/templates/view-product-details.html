<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>e-commerce website</title>

    <!-- font-awesome cdn link -->
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    />

    <!-- custom css file link -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" />
  </head>
  <body>
    <section th:replace="~{fragments/navbar :: navbar}"></section>

    <section id="productdetails" class="section-p1">
      <div th:if="${param.unauthenticated}" class="alert alert-success">
        Please login to add items to your cart.
      </div>
      <div th:if="${param.cartAddSuccess}" class="alert alert-success">
        Successfully added to cart.
      </div>
      <div th:if="${param.cartError}" class="alert alert-success">
        Something went wrong...
      </div>
      <div class="single-pro-image">
        <img
          th:src="${productToView.pictureUrl}"
          width="100%"
          id="MainImg"
          alt=""
        />
<!--        <div class="small-image-group" th:each="image : ${productOptionImages}">-->
<!--          <div class="small-img-col">-->
<!--            <img th:src="${productToView.pictureUrl}" width="100%" class="small-img" alt="" />-->
<!--            <img th:src="${image.pictureUrl}" width="100%" class="small-img" alt="" />-->
<!--          </div>-->
        </div>
      </div>
      <div class="single-pro-details">
        <h6>Home / T-Shirt</h6>
        <h4 th:text="${productToView.name}"></h4>
        <h2 th:text="'$' + ${productToView.price}"></h2>
        <form style="display: inline;"
              th:action="@{/cart/add/{id}(id=${productToView.id})}"
              method="post"
        >
        <select th:each="productOption : ${productOptionImages}">
          <option>Select an option</option>
          <option th:text="${productOption}"></option>
        </select>
        <input type="number" value="1" />
          <button type="submit" class="normal">Add to Cart</button>
        </form>
        <h4>Product Details</h4>
        <span th:text="${productToView.description}"></span>
      </div>
    </section>

    <section
      th:replace="~{fragments/product-display :: productDisplay(productList=${featuredProducts})}"
    ></section>

    <section th:replace="~{fragments/newsletter :: newsletter}"></section>
    <section th:replace="~{fragments/footer :: footer}"></section>
    <script>
      var mainImg = document.getElementById("MainImg");
      var smallImg = document.getElementsByClassName("small-img");
      smallImg[0].onclick = function () {
        mainImg.src = smallImg[0].src;
      };
      smallImg[1].onclick = function () {
        mainImg.src = smallImg[1].src;
      };
      smallImg[2].onclick = function () {
        mainImg.src = smallImg[2].src;
      };
      smallImg[3].onclick = function () {
        mainImg.src = smallImg[3].src;
      };
    </script>
    <!-- javascript script file link -->
    <script src="script.js"></script>
  </body>
</html>
